<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì„ êµ ì ì„± ê²€ì‚¬ (Mission MBTI)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Pretendard', sans-serif; 
            background-color: #f8fafc; 
            /* ë‹¨ì–´ ë‹¨ìœ„ ì¤„ë°”ê¿ˆ ì„¤ì • */
            word-break: keep-all; 
            overflow-wrap: break-word;
        }
        .circle-btn { transition: all 0.2s; cursor: pointer; border: 2px solid #e2e8f0; border-radius: 50%; display: flex; align-items: center; justify-content: center; background: white; flex-shrink: 0; }
        .circle-btn:hover { border-color: #6366f1; background-color: #f5f3ff; }
        .circle-lg { width: 56px; height: 56px; }
        .circle-sm { width: 44px; height: 44px; }
        .progress-bar { transition: width 0.3s ease-in-out; }
        .fade-in { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* ì„ íƒì§€ í…ìŠ¤íŠ¸ ê°„ê²© ì¡°ì • */
        .option-box { min-height: 60px; display: flex; align-items: center; justify-content: center; }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-4">

    <div id="start-screen" class="max-w-md w-full text-center fade-in">
        <div class="mb-8 text-6xl">ğŸ§¬</div>
        <h1 class="text-3xl font-bold text-gray-800 mb-4">ì„ êµ ì ì„± ê²€ì‚¬</h1>
        <p class="text-gray-600 mb-8 leading-relaxed px-4">ë‚˜ì˜ ì„ êµì  ì„±í–¥ì€ ë¬´ì—‡ì¼ê¹Œìš”?<br>20ê°œì˜ ë¬¸í•­ì„ í†µí•´ ë‹¹ì‹ ì˜ ì‚¬ì—­ ìœ í˜•ì„ í™•ì¸í•´ë³´ì„¸ìš”.</p>
        <button onclick="startTest()" class="w-full bg-indigo-600 text-white py-4 rounded-2xl font-semibold text-lg hover:bg-indigo-700 shadow-lg transition">í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°</button>
    </div>

    <div id="question-screen" class="max-w-md w-full hidden fade-in">
        <div class="mb-6 px-2">
            <div class="flex justify-between text-xs text-gray-400 mb-2">
                <span id="progress-text">1 / 20</span>
                <span id="indicator-name" class="font-semibold text-indigo-500">ì§€í‘œ ë¶„ì„ ì¤‘...</span>
            </div>
            <div class="w-full bg-gray-200 h-1.5 rounded-full overflow-hidden">
                <div id="progress-bar" class="progress-bar bg-indigo-500 h-full" style="width: 5%"></div>
            </div>
        </div>

        <div class="bg-white rounded-3xl p-6 shadow-sm border border-gray-100 flex flex-col">
            <div class="text-center mb-6">
                <div id="option-a" class="option-box text-lg text-gray-800 font-bold px-2 mb-4">ì§ˆë¬¸ A</div>
                
                <div class="flex flex-col items-center gap-3 mb-6">
                    <button onclick="handleAnswer(2, 'left')" class="flex items-center gap-4 w-full p-3 rounded-xl border border-transparent hover:border-indigo-100 group transition">
                        <div class="circle-btn circle-lg shadow-sm border-2 border-indigo-200"></div>
                        <span class="text-gray-600 font-medium group-hover:text-indigo-600 text-left">ì™„ì „ ë‚˜ì•¼! (ë§¤ìš° ê·¸ë ‡ë‹¤)</span>
                    </button>
                    <button onclick="handleAnswer(1, 'left')" class="flex items-center gap-4 w-full p-3 rounded-xl border border-transparent hover:border-indigo-100 group transition">
                        <div class="circle-btn circle-sm shadow-sm ml-1.5"></div>
                        <span class="text-gray-500 text-sm group-hover:text-indigo-500 text-left">ê·¸ëŸ° í¸ì´ì•¼ (ì•½ê°„ ê·¸ë ‡ë‹¤)</span>
                    </button>
                    
                    <div class="w-full border-t border-dashed border-gray-200 my-2"></div>

                    <button onclick="handleAnswer(1, 'right')" class="flex items-center gap-4 w-full p-3 rounded-xl border border-transparent hover:border-indigo-100 group transition">
                        <div class="circle-btn circle-sm shadow-sm ml-1.5"></div>
                        <span class="text-gray-500 text-sm group-hover:text-indigo-500 text-left">ì˜¤íˆë ¤ ì´ìª½ (ì•½ê°„ ê·¸ë ‡ë‹¤)</span>
                    </button>
                    <button onclick="handleAnswer(2, 'right')" class="flex items-center gap-4 w-full p-3 rounded-xl border border-transparent hover:border-indigo-100 group transition">
                        <div class="circle-btn circle-lg shadow-sm border-2 border-indigo-200"></div>
                        <span class="text-gray-600 font-medium group-hover:text-indigo-600 text-left">ì´ê²Œ ë‚˜ì§€! (ë§¤ìš° ê·¸ë ‡ë‹¤)</span>
                    </button>
                </div>

                <div id="option-b" class="option-box text-lg text-gray-800 font-bold px-2">ì§ˆë¬¸ B</div>
            </div>

            <div class="flex justify-between items-center mt-2">
                <button id="prev-btn" onclick="goBack()" class="text-gray-400 hover:text-indigo-500 flex items-center gap-1 transition text-sm">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
                    </svg>
                    ì´ì „ ì§ˆë¬¸ìœ¼ë¡œ
                </button>
                <span class="text-[10px] text-gray-300 uppercase tracking-tighter">Missionary Aptitude Test</span>
            </div>
        </div>
    </div>

    <div id="result-screen" class="max-w-md w-full hidden fade-in">
        <div class="bg-white rounded-[2rem] p-8 shadow-2xl border border-indigo-50 text-center">
            <h3 class="text-indigo-600 font-bold mb-6 uppercase tracking-[0.2em] text-sm">Your Result</h3>
            
            <div id="result-code" class="text-6xl font-black text-indigo-900 mb-2 tracking-tighter">TYPE</div>
            <h2 id="result-title" class="text-2xl font-bold text-gray-800 mb-8">ê²°ê³¼ ìœ í˜• ì´ë¦„</h2>
            
            <div class="w-12 h-1 bg-indigo-500 mx-auto mb-8 rounded-full"></div>
            
            <p id="result-desc" class="text-base text-gray-600 leading-relaxed mb-10 text-left bg-indigo-50/50 p-6 rounded-2xl whitespace-pre-wrap shadow-inner border border-white">ê²°ê³¼ ì„¤ëª…ì´ ë“¤ì–´ê°‘ë‹ˆë‹¤.</p>
            
            <button onclick="location.reload()" class="w-full bg-gray-900 text-white py-4 rounded-2xl font-semibold hover:bg-black transition shadow-lg">í…ŒìŠ¤íŠ¸ ë‹¤ì‹œí•˜ê¸°</button>
        </div>
    </div>

    <script>
        const rawQuestions = [
            { type: 'FB', a: "ë‚´ê°€ ë¨¼ì € ì•„ë¬´ ë§ì´ë‚˜ ë˜ì ¸ ì¹¨ë¬µì„ ê¹¬ë‹¤.", b: "ëˆ„êµ°ê°€ ë§í•  ë•Œê¹Œì§€ ì†ìœ¼ë¡œ ê¸°ë‹¤ë¦°ë‹¤.", left: 'F', right: 'B' },
            { type: 'FB', a: "ë¨¼ì € ë¬¼ì»µê³¼ ìˆ˜ì €ë¥¼ ì„¸íŒ…í•œë‹¤.", b: "ì¡°ì‹¬íˆ ìƒí™©ì„ ì§€ì¼œë³´ë©° ê¸°ë‹¤ë¦°ë‹¤.", left: 'F', right: 'B' },
            { type: 'FB', a: "ë§ˆì´í¬ë¥¼ ì¡ê³  ìŠ¤í”¼ì¹˜ í•˜ëŠ” ë°œí‘œì", b: "íƒ€ì´ë° ë§ì¶° PPTë¥¼ ë„˜ê²¨ì£¼ëŠ” ì˜¤í¼ë ˆì´í„°", left: 'F', right: 'B' },
            { type: 'FB', a: "ê¸°íšì„ í•˜ëŠ” ê²ƒì´ ë§ˆìŒì´ í¸í•˜ë‹¤.", b: "ê¸°íšëœ ëŒ€ë¡œ ì›€ì§ì´ëŠ” ê²ƒì´ í¸í•˜ë‹¤.", left: 'F', right: 'B' },
            { type: 'FB', a: "ëŠ˜ ìƒˆë¡œìš´ ê²ƒì„ ì‹œë„í•˜ëŠ” ì–¼ë¦¬ì–´ë‹µí„°", b: "ëŠ˜ ìµìˆ™í•œ ê²ƒì„ ì¶”êµ¬í•˜ëŠ” ì•ˆì •í˜•", left: 'F', right: 'B' },
            { type: 'WL', a: "'ì•ˆ ë¨¹ì–´ë³¸ ì˜¤ëŠ˜ì˜ íŠ¹ì„ !' ë‚¯ì„  ë§›ì— ë„ì „í•œë‹¤.", b: "'ëŠ˜ ë¨¹ë˜ ì‹¤íŒ¨ ì—†ëŠ” ê·¸ ë§›!' ë‹¨ê³¨ ë©”ë‰´ë¥¼ ì‹œí‚¨ë‹¤.", left: 'W', right: 'L' },
            { type: 'WL', a: "ì§€êµ¬ ë°˜ëŒ€í¸ì˜ ì—­ì‚¬ë‚˜ ì„¸ê³„ ì •ì„¸ì— ê´€í•œ ì±…ì— ì†ì´ ê°„ë‹¤.", b: "ë‚´ ì‚¶ì— ë°”ë¡œ ì ìš©í•  ìˆ˜ ìˆëŠ” ì—ì„¸ì´ë‚˜ ì‹¤ìš©ì„œì— ì†ì´ ê°„ë‹¤.", left: 'W', right: 'L' },
            { type: 'WL', a: "ë¹„í–‰ê¸°ë¥¼ íƒ€ê³  í•œ ë²ˆë„ ì•ˆ ê°€ë³¸ ê³³ìœ¼ë¡œ ë– ë‚œë‹¤.", b: "ìµìˆ™í•œ ë‚´ ë°© ì¹¨ëŒ€ì—ì„œ ì¢‹ì•„í•˜ëŠ” OTTë¥¼ ë³¸ë‹¤.", left: 'W', right: 'L' },
            { type: 'WL', a: "ì´ë¦„ ëª¨ë¥¼ ë¯¸ì „ë„ ì¢…ì¡±ê³¼ ì„ êµì‚¬ë‹˜ì„ í–¥í•œ ê¸°ë„", b: "ë‚˜ì˜ ê°€ì¡±ê³¼ ì§ì¥ ë™ë£Œ, ë‚´ ì˜†ìë¦¬ ì§€ì²´ë¥¼ ìœ„í•œ ê¸°ë„", left: 'W', right: 'L' },
            { type: 'WL', a: "í•´ì™¸ì—¬í–‰ ë¸Œì´ë¡œê·¸, ê±¸ì–´ì„œ ì„¸ê³„ì†ìœ¼ë¡œ ì±„ë„", b: "êµ­ë‚´ í•«í”Œ ë¦¬ë·°, ì¼ìƒ ë¸Œì´ë¡œê·¸, ìê¸°ê³„ë°œ ì±„ë„", left: 'W', right: 'L' },
            { type: 'RT', a: "'ê´œì°®ì•„? ë§ì´ ë‹¹í™©í–ˆì§€?' ë§ˆìŒë¶€í„° ì±™ê¸´ë‹¤.", b: "'ì–´ë–»ê²Œ ìˆ˜ìŠµí• ì§€ í”Œëœë¶€í„° ì§œì.' í•´ê²°ì±…ë¶€í„° ì±™ê¸´ë‹¤.", left: 'R', right: 'T' },
            { type: 'RT', a: "'ë‹¤ë“¤ ì •ë§ ë¯¸ì•ˆí•´! ë§ì´ ê¸°ë‹¤ë ¸ì§€?'", b: "'ì§€ê¸ˆ ëª¨ì„ ì–´ë””ê¹Œì§€ ì§„í–‰ëì–´?'", left: 'R', right: 'T' },
            { type: 'RT', a: "ì„±ê²©ì´ ì›ë§Œí•˜ê³  ì†Œí†µ ë°©ì‹ì´ ì˜ ë§ëŠ” ì‚¬ëŒ", b: "ì¼ ì²˜ë¦¬ ëŠ¥ë ¥ì´ í™•ì‹¤í•˜ê³  ìê¸° ëª«ì„ ë‹¤í•˜ëŠ” ì‚¬ëŒ", left: 'R', right: 'T' },
            { type: 'RT', a: "ì¡°ìš©íˆ ì˜†ì— ì•‰ì•„ ë„ë•ì´ë©° ëê¹Œì§€ ì´ì•¼ê¸°ë¥¼ ë“¤ì–´ì¤€ë‹¤.", b: "ê·¸ ì‚¬ëŒì˜ ë¬¸ì œë¥¼ ì‹¤ì§ˆì ìœ¼ë¡œ í•´ê²°í•  ë°©ë²•ì„ ì°¾ì•„ì¤€ë‹¤.", left: 'R', right: 'T' },
            { type: 'RT', a: "ì´ ì„ ë¬¼ì„ ë°›ê³  ê°ë™í•  ì§€ì¸ì˜ í‘œì •ì„ ë– ì˜¬ë¦°ë‹¤.", b: "ì§€ì¸ì—ê²Œ ì§€ê¸ˆ ê°€ì¥ ì‹¤ì§ˆì ì¸ ë„ì›€ì´ ë  ë¬¼ê±´ì„ ì°¾ëŠ”ë‹¤.", left: 'R', right: 'T' },
            { type: 'SA', a: "'í˜¹ì‹œ ëª¨ë¥´ë‹ˆê¹Œ' ë©°ì¹  ì „ë¶€í„° ì™„ë²½í•˜ê²Œ ë‹¤ ì„¸íŒ…í•´ ë‘”ë‹¤.", b: "'ê°€ì„œ ì‚¬ë©´ ë˜ì§€' ì¶œë°œ ì „ë‚  ëˆˆì— ë³´ì´ëŠ” ëŒ€ë¡œ ì±™ê¸´ë‹¤.", left: 'S', right: 'A' },
            { type: 'SA', a: "'ì™œ ë¯¸ë¦¬ ê²€ìƒ‰ì„ ì•ˆ í–ˆì„ê¹Œ' ìŠ¤ìŠ¤ë¡œ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë°›ëŠ”ë‹¤.", b: "'ì˜¤, ê·¼ì²˜ ë‹¤ë¥¸ ë§›ì§‘ì„ ì°¾ì„ ê¸°íšŒë„¤!' ì˜¤íˆë ¤ ì„¤ë Œë‹¤.", left: 'S', right: 'A' },
            { type: 'SA', a: "ë„ì°© ì˜ˆì • ì‹œê°„ê³¼ ìµœì ì˜ ê²½ë¡œë¥¼ ì² ì €íˆ ë”°ë¥¸ë‹¤.", b: "ê°€ë”ì€ ë‚´ë¹„ê²Œì´ì…˜ì„ ë„ê³  ë‚¯ì„  ê³¨ëª©ì„ ê±¸ì–´ë³¸ë‹¤.", left: 'S', right: 'A' },
            { type: 'SA', a: "ì‹œê°„ ë‹¨ìœ„ë¡œ í•  ì¼ê³¼ ë¯¸íŒ…ì´ ë¹¼ê³¡í•˜ê²Œ ì í˜€ ìˆë‹¤.", b: "êµµì§í•œ ì•½ì†ë§Œ ì í˜€ ìˆê³  ì—¬ë°±ì´ í›¨ì”¬ ë§ë‹¤.", left: 'S', right: 'A' },
            { type: 'SA', a: "ë¯¸ë¦¬ë¯¸ë¦¬ ì—¬ìœ  ìˆê²Œ ëë‚´ë†”ì•¼ ë§ˆìŒì´ í¸í•˜ë‹¤.", b: "ë§ˆê° ì§ì „ í­ë°œí•˜ëŠ” ì•„ë“œë ˆë‚ ë¦°ì˜ íš¨ìœ¨ì„ ë¯¿ëŠ”ë‹¤.", left: 'S', right: 'A' }
        ];

        const results = {
            "FWRS": ["ì¤€ë¹„ëœ ê¸€ë¡œë²Œ í”„ë¡ í‹°ì–´", "ì„ êµì§€ ìµœì „ë°©ì—ì„œ í˜„ì§€ì¸ê³¼ ê¹Šê²Œ êµì œí•˜ë©°, ì² ì €í•˜ê²Œ ê³„íšëœ ì¼ì •ëŒ€ë¡œ ì „ë„í•˜ëŠ” ë¹ˆí‹ˆì—†ëŠ” ê°œì²™ì."],
            "FWRA": ["ì„±ë ¹ì¶©ë§Œ ê¸€ë¡œë²Œ ì¸ì‹¸", "ë‚¯ì„  íƒ€ë¬¸í™”ê¶Œì—ì„œë„ ë°”ë””ë­ê·€ì§€ë¡œ í˜„ì§€ì¸ê³¼ 5ë¶„ ë§Œì— ë² í”„ê°€ ë˜ëŠ” ììœ ë¡œìš´ ì˜í˜¼ì˜ ì†Œìœ ì."],
            "FWTS": ["ì—´ë°©ì˜ í™€ë¦¬ ë²„ìŠ¤ì»¤", "ë“± ë’¤ì— ê¸°íƒ€ í•˜ë‚˜ ë‘˜ëŸ¬ë©”ê³  ë‹¹ë‹¹í•˜ê²Œ ì•ì¥ì„œë©°, ì™„ë²½í•˜ê²Œ ê¸°íšëœ ê³µì—°ì´ë‚˜ ì‚¬ì—­ìœ¼ë¡œ ì„ êµì§€ ë¬´ëŒ€ë¥¼ ì¥ì•…í•˜ëŠ” ë‹¬ë€íŠ¸ ë¶€ì."],
            "FWTA": ["ìœ„ê¸°íƒˆì¶œ íƒ€ë¬¸í™” íŠ¹ê³µëŒ€", "ì„ êµì§€ì—ì„œ ìŒí–¥ì´ êº¼ì§€ê±°ë‚˜ ëŒë°œ ìƒí™©ì´ ìƒê²¨ë„, íŠ¹ìœ ì˜ ìˆœë°œë ¥ê³¼ ë¼ë¡œ ë¶„ìœ„ê¸°ë¥¼ í™• ë„ìš°ëŠ” ë¬´ëŒ€ ìœ„ í•´ê²°ì‚¬."],
            "FLRS": ["ì¼ìƒì˜ ì „ëµì  ë©˜í† ", "í•™êµë‚˜ ì§ì¥ì—ì„œ ë¯¿ì§€ ì•ŠëŠ” ì˜í˜¼ì„ ë§ˆìŒì— í’ˆê³ , ì¹˜ë°€í•˜ê²Œ íƒ€ì´ë°ì„ ì¬ì–´ ë°¥ì„ ì‚¬ì£¼ë©° ë³µìŒì„ ì „í•˜ëŠ” ê´€ê³„ ì „ë„ì˜ ë‹¬ì¸."],
            "FLRA": ["ë™ë„¤ë°©ë„¤ ë¹›ê³¼ ì†Œê¸ˆ", "ìš°ë¦¬ êµíšŒ ê³µë™ì²´ë‚˜ ì¼ìƒ ì†ì—ì„œ ëˆ„êµ¬ì™€ë„ ìŠ¤ìŠ¤ëŸ¼ì—†ì´ ì–´ìš¸ë¦¬ë©°, ì‚¶ì˜ ìì—°ìŠ¤ëŸ¬ìš´ ëª¨ìŠµìœ¼ë¡œ ê·¸ë¦¬ìŠ¤ë„ì˜ í–¥ê¸°ë¥¼ ë¿œì–´ë‚´ëŠ” ì¸ì‹¸."],
            "FLTS": ["ê³µë™ì²´ í•˜ë“œìºë¦¬ ë¦¬ë”", "ìƒˆí•´ ì„±ê²½í†µë… í”„ë¡œê·¸ë¨ì´ë‚˜ ì²­ë…„ë¶€ ìˆ˜ë ¨íšŒ ë“± ì¤‘ìš”í•œ ì‚¬ì—­ì„ ì² ì €í•˜ê²Œ ê¸°íší•˜ê³  ë§¨ ì•ì—ì„œ ëŒê³  ê°€ëŠ” ì—´ì • ë¦¬ë”."],
            "FLTA": ["ìˆœë°œë ¥ ë§Œë ™ ì‚¬ì—­ì", "êµíšŒì—ì„œ ê°‘ì‘ìŠ¤ëŸ½ê²Œ ê°„ì¦ì´ë‚˜ íŠ¹ì†¡, ë ˆí¬ë¦¬ì—ì´ì…˜ ì§„í–‰ì„ ë¶€íƒë°›ì•„ë„ ë‹¹í™©í•˜ì§€ ì•Šê³  ì€í˜œë¡­ê²Œ í•´ë‚´ëŠ” ë§ŒëŠ¥ ì—”í„°í…Œì´ë„ˆ."],
            "BWRS": ["ì„ êµì§€ ë§ˆë” í…Œë ˆì‚¬", "ëˆˆì— ë„ì§€ ì•ŠëŠ” ê³³ì—ì„œ í˜„ì§€ì¸ë“¤ì˜ í•„ìš”ì™€ ì•„í””ì„ ê¼¼ê¼¼í•˜ê²Œ ì‚´í”¼ê³  í’ˆì–´ì£¼ëŠ” ë”°ëœ»í•œ ì‹¬ì¥."],
            "BWRA": ["êµ­ê²½ ì´ˆì›” íëŸ¬", "í”„ë¡œê·¸ë¨ ì¤‘ì‹¬ì˜ ì‚¬ì—­ë³´ë‹¤ëŠ”, í˜„ì§€ ì•„ì´ë“¤ì„ ê·¸ì € ë¬µë¬µíˆ ì•ˆì•„ì£¼ê³  ìƒí™©ì— ë§ì¶° ëŒë´ì£¼ëŠ” ë°ì„œ í° ê¸°ì¨ì„ ëŠë¼ëŠ” ì‚¬ëŒ."],
            "BWTS": ["íŒŒì›Œ ìŠ¤ì¼€ì¥´ ì„ êµ ë„¤ë¹„ê²Œì´í„°", "í•­ê³µê¶Œ, ì¬ì • ê´€ë¦¬, ì‚¬ì—­ íƒ€ì„í…Œì´ë¸” ë“± ì„ êµì˜ ë¼ˆëŒ€ë¥¼ ì˜¤ì°¨ ì—†ì´ ì™„ë²½í•˜ê²Œ ì„¸ì›Œ íŒ€ì„ ì´ë„ëŠ” ë³´ì´ì§€ ì•ŠëŠ” ë¸Œë ˆì¸."],
            "BWTA": ["ì„ êµì§€ ë§ŒëŠ¥ ë§¥ê°€ì´ë²„", "ë¬´ë”ìš´ ë‚  ì§ì„ ë‚˜ë¥´ê±°ë‚˜ ì‹ì‚¬ë¥¼ ì±™ê¸°ëŠ” ë“±, ì„ êµ í˜„ì¥ì—ì„œ ë°œìƒí•˜ëŠ” ì˜¨ê°– ëŒë°œì ì¸ ê¶‚ì€ì¼ì„ ë§ì—†ì´ ì²™ì²™ í•´ê²°í•˜ëŠ” ê¸°ë‘¥."],
            "BLRS": ["ë¹„ë°€ ì¤‘ë³´ê¸°ë„ ìš”ì›", "ê¸°ë„ ë…¸íŠ¸ì— ì§€ì²´ë“¤ì˜ ì´ë¦„ì„ ë¹¼ê³¡íˆ ì ì–´ë‘ê³ , ì¹˜ë°€í•˜ê³  êµ¬ì²´ì ìœ¼ë¡œ ì˜ì  ì „ìŸì˜ ìµœí›„ë°©ì„ ì§€í‚¤ëŠ” ê¸°ë„ì˜ ìš©ì‚¬."],
            "BLRA": ["ê³µë™ì²´ ì¸ê°„ í•«íŒ©", "ê³µë™ì²´ ëª¨ì„ì—ì„œ ì–´ìƒ‰í•´í•˜ê±°ë‚˜ ì†Œì™¸ëœ ìƒˆê°€ì¡± ê³ì— ìœ ì—°í•˜ê²Œ ë‹¤ê°€ê°€, ì¡°ìš©íˆ ë§ì„ ê±´ë„¤ë©° ë§ˆìŒì„ ë…¹ì—¬ì£¼ëŠ” ë”°ëœ»í•œ ë‚œë¡œ."],
            "BLTS": ["ë””í…Œì¼ ê¹ëŠ” ì¥ì¸", "ì²­ë…„ë¶€ í–‰ì‚¬ ë•Œ PPT, ì˜ìƒ, íšŒê³„ ë“± ê°€ì¥ ì†ì´ ë§ì´ ê°€ê³  í‹° ì•ˆ ë‚˜ëŠ” ì‚¬ì—­ì„ ì™„ë²½í•˜ê²Œ ì¤€ë¹„í•˜ëŠ” ë³´ì´ì§€ ì•ŠëŠ” ì†."],
            "BLTA": ["êµíšŒì˜ ìˆ¨ì€ ì²œì‚¬", "ì¼ì†ì´ ë¶€ì¡±í•˜ê±°ë‚˜ í‘í¬ ë‚œ ìë¦¬ê°€ ìƒê¸°ë©´ ì œì¼ ë¨¼ì € ë‹¬ë ¤ì™€ ê·¸ ìë¦¬ë¥¼ ê¸°êº¼ì´ ë©”ì›Œì£¼ëŠ”, ë¬µë¬µí•˜ì§€ë§Œ ê°€ì¥ ë“ ë“ í•œ ë™ì—­ì."]
        };

        let questions = [];
        let currentIndex = 0;
        let scores = { F: 0, B: 0, W: 0, L: 0, R: 0, T: 0, S: 0, A: 0 };
        let answerHistory = [];

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function startTest() {
            questions = shuffle([...rawQuestions]);
            document.getElementById('start-screen').classList.add('hidden');
            document.getElementById('question-screen').classList.remove('hidden');
            showQuestion();
        }

        function showQuestion() {
            const q = questions[currentIndex];
            document.getElementById('option-a').innerText = q.a;
            document.getElementById('option-b').innerText = q.b;
            document.getElementById('progress-text').innerText = `${currentIndex + 1} / 20`;
            document.getElementById('progress-bar').style.width = `${((currentIndex + 1) / 20) * 100}%`;
            document.getElementById('prev-btn').style.visibility = currentIndex === 0 ? 'hidden' : 'visible';
            
            const names = { 'FB': 'ì‚¬ì—­ì˜ ìœ„ì¹˜', 'WL': 'ì‚¬ì—­ì˜ ë¬´ëŒ€', 'RT': 'ì ‘ê·¼ ë°©ì‹', 'SA': 'ìƒí™© ëŒ€ì²˜' };
            document.getElementById('indicator-name').innerText = names[q.type];
            window.scrollTo(0,0);
        }

        function handleAnswer(points, side) {
            const q = questions[currentIndex];
            const type = side === 'left' ? q.left : q.right;
            
            scores[type] += points;
            answerHistory.push({ type, points });

            if (currentIndex < 19) {
                currentIndex++;
                showQuestion();
            } else {
                showResult();
            }
        }

        function goBack() {
            if (currentIndex > 0) {
                const lastAnswer = answerHistory.pop();
                scores[lastAnswer.type] -= lastAnswer.points;
                currentIndex--;
                showQuestion();
            }
        }

        function showResult() {
            let mbti = "";
            mbti += scores.F >= scores.B ? "F" : "B";
            mbti += scores.W >= scores.L ? "W" : "L";
            mbti += scores.R >= scores.T ? "R" : "T";
            mbti += scores.S >= scores.A ? "S" : "A";

            const resultData = results[mbti];
            
            document.getElementById('question-screen').classList.add('hidden');
            document.getElementById('result-screen').classList.remove('hidden');
            document.getElementById('result-code').innerText = mbti;
            document.getElementById('result-title').innerText = resultData[0];
            document.getElementById('result-desc').innerText = resultData[1];
            window.scrollTo(0,0);
        }
    </script>
</body>
</html>
